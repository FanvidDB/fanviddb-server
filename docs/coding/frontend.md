---
layout: default
title: Frontend
---

# Frontend

The frontend uses [Bootstrap](https://getbootstrap.com/) for the docs pages and the header bar; the main body of the site uses [ReactJS](https://reactjs.org/) with [Ant Design Components](https://ant.design/components/overview/).

<div class="alert alert-info" role="alert">
  The instructions on this page assume that you are familiar with GitHub and the command line.
  If you are not but want to be, check out <a href="https://lab.github.com/githubtraining/first-day-on-github">First Day On Github</a>!
</div>

## Setup (Mac OS)

First, create a fork of [github.com/FanvidDB/fanviddb-server](https://github.com/FanvidDB/fanviddb-server) that you can clone. Then you can do the following steps:

1. `git clone git@github.com:your-username/fanviddb-server.git`
2. [Install `nvm`](https://github.com/nvm-sh/nvm#installing-and-updating)
3. Run `nvm install 16` to install node 16
4. [Install `yarn`](https://classic.yarnpkg.com/en/docs/install#mac-stable)
5. (Optional) If you want to interact with the backend, [set up the backend](/coding/backend.html)

## One-off build

If all you want it to build the frontend once and then interact primarily with the backend, run:

```bash
yarn install
yarn build
```

## Automatic rebuilds of the frontend

If you are doing significant work on the frontend, run:

```bash
yarn install
yarn start
```

This will spin up a web server at <http://localhost:3000> that automatically restarts when there are changes to your Javascript.
If you are also running a [backend server](/coding/backend.html), it will route API requests to that server.

## Running tests

Tests use [the Jest Testing Framework](https://jestjs.io/) and can be run with the following command:

```bash
yarn test
```

## Before you push new code

If you make changes to the frontend code, make sure to run the following commands prior to creating a pull request:

```bash
yarn test # Runs frontend tests
make fmt  # Auto-enforces code style
make lint # Checks code style
```

## Adding translatable strings

We use [Fluent](https://projectfluent.org/) to handle translations, because we believe it provides the best experience for non-technical translators of the currently-available options.
Although most user-visible text will be in Javascript on the [frontend](/coding/frontend.html), there are some strings (like error messages or email content) that are generated by the backend.

Any time you add a string that will be displayed to an end user, be sure to create a new message ID and translation in `locale/en-US/react.ftl` (and any other locales you want to support off the bat) and then use [`@fluent/react`](https://github.com/projectfluent/fluent.js/wiki/React-Bindings) with that message ID to get the appropriate translation. For example:

```ftl
# locale/en-US/react.ftl
hello-world = Hello World!
```

```js
// Component.js
import React from "react";
import { Localized } from "@fluent/react";

const Component = () => {
  return <Localized id="hello-world" />;
};

export default Component;
```

Check out [Fluent's Good Practices for Developers](https://github.com/projectfluent/fluent/wiki/Good-Practices-for-Developers) and the [Fluent Syntax Guide](https://projectfluent.org/fluent/guide/) for more information.
Our style is to prefer not including a nested "fallback".
We would not be able to extract that translation or keep it in sync, so we prefer not to provide it in the first place.
